from emora_stdm import KnowledgeBase, DialogueFlow
from enum import Enum


class State(Enum):
    START = 0
    P1 = 1
    U1 = 2
    U2 = 3
    U3 = 4
    U4 = 5
    P2A = 6
    P2B = 7
    P2C = 8
    P3A = 9
    P3B = 10

    ERR = 11


df = DialogueFlow(State.START, initial_speaker=DialogueFlow.Speaker.SYSTEM)

df.add_system_transition(State.START, State.P1, '"Do you have a phone?"')
df.add_user_transition(State.P1, State.U1, "$response={no}")
df.add_user_transition(State.P1, State.U2, "$response={yes}")
df.add_user_transition(State.P2B, State.U3, "$response={yes}")
df.add_user_transition(State.P2C, State.U2, "$response={yes}")
df.add_user_transition(State.P2C, State.U4, "$response={no}")

df.add_system_transition(State.U2, State.P2A, '"What type of mobile apps do you use?"')
df.add_system_transition(State.U1, State.P2C, '"Do you use a phone?"')
df.add_system_transition(State.U4, State.P3B, '"Oh, maybe you will in the future! Talk to you then."')


ont_dict = {
              "ontology": {
                "ontapptype":
                    [
                        "ontfitness",
                        "ontproductivity",
                        "ontsocialmedia",
                        "ontstorage",
                        "ontstreaming"
                    ],
                "ontyes":
                    [
                         "ontyeah",
                         "ontyes",
                         "ontyea",
                         "ontmmhmm",
                         "ontyuh"
                     ],
                "ontproductivity":
                    [
                      "ontstudytimer",
                      "onthealth",
                      "onteducation",
                      "ontnotes",
                      "onteducationalapps"
                    ],
                "ontnotes":
                    [
                      "ontgoodnotes",
                      "ontapplenotes",
                      "ontnotepad",
                      "ontonenote",
                      "ontother"
                    ],
                "onthealth":
                    [
                      "ontpedometer",
                      "ontstudytimer",
                      "ontcaloriecounter",
                      "ontsleeptracker",
                      "moodlog",
                      "ontother"
                    ],
                "onteducationalapps":
                    [
                      "ontcoursera",
                      "ontedx",
                      "ontduolingo"
                    ],   
                "ontcoursera":
                    [
                     "ontmath,
                     "ontphysics",
                     "ontchemistry"
                    ],
                "ontduolingo":
                    [
                     "ontenglish",
                     "ontspanish",
                     "ontgerman",
                     "ontrussian",
                     "ontfrench",
                     "ontjapanese",
                     "ontitalian",
                     "ontmandarin",
                     "ontportuguese",
                     "ontarabic",
                     "ontturkish",
                     "ontdutch",
                     "ontswedish",
                     "ontenglish",
                     "onthindi",
                     "ontgreek",
                     "ontirish",
                     "ontpolish",
                     "onthighvalerian",
                     "hebrew"
                    ]
                "ontsocialmedia":
                    [
                      "ontsnapchat",
                      "ontinstagram",
                      "ontfacebook",
                      "onttwitter"
                    ],
                "ontinstagram":
                    [
                      2000
                    ],
                "ontsnapchat":
                    [
                      10
                    ],
                "ontstorage":
            [
                "ontdropbox",
                "ontemorybox",
                "onticloud"

            ],

                "ontfitness":
                    [
                        "ontsleeptracker",
                        "ontcaloriecounter",
                        "ontpedometer",
                        "ontmoodlog"
                    ]
              }
           }
